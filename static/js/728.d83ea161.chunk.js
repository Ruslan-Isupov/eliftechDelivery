"use strict";(self.webpackChunkelifetch_tech_task=self.webpackChunkelifetch_tech_task||[]).push([[728],{728:function(e,t,r){r.r(t),r.d(t,{default:function(){return O}});var a="ShoppingCartSection_shoppingCartBox__Nravw",n=r(434),s=r(165),i=r(861),c=r(243),u=r(686),o=r.n(u),l=r(382);c.Z.defaults.baseURL="https://64749bc27de100807b1b59c8.mockapi.io/";var m=(0,l.hg)("submitForm/addOrderList",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,r){var a,n,i,u,l,m,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.number,i=t.adress,u=t.email,l=t.dishName,m=t.amount,d=t.totalPrice,e.prev=1,e.next=4,c.Z.post("/orders",{name:a,number:n,adress:i,email:u,dishName:l,amount:m,totalPrice:d});case 4:return e.sent,console.log("Yep"),e.abrupt("return",o().Notify.success("Successful order"));case 9:return e.prev=9,e.t0=e.catch(1),o().Notify.failure("Bad Request! Try It again!"),e.abrupt("return",r.rejectWithValue(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),d=r(107),p="RegisterForm_registerForm__YdC2o",f="RegisterForm_registerInput__16xll",h=r(184),x=function(){var e=(0,n.I0)();return(0,h.jsxs)("form",{className:p,onSubmit:function(t){console.log(4);var r=t.currentTarget;t.preventDefault(),e(m({name:r.elements.name.value,email:r.elements.email.value,adress:r.elements.adress.value,phone:r.elements.phone.value})),r.reset(),e((0,d.kH)())},autoComplete:"off",id:"form1",children:[(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("input",{className:f,type:"text",name:"name",required:!0})]}),(0,h.jsxs)("label",{children:["Email",(0,h.jsx)("input",{className:f,type:"email",name:"email",required:!0})]}),(0,h.jsxs)("label",{children:["Phone",(0,h.jsx)("input",{className:f,type:"number",name:"phone",required:!0})]}),(0,h.jsxs)("label",{children:["Address",(0,h.jsx)("input",{className:f,type:"text",name:"adress",required:!0})]})]})},_=r(439),g={cartBox:"CartItem_cartBox__ohZZf",infoCart:"CartItem_infoCart__A6YdT",cartImage:"CartItem_cartImage__B9b7X"},j=r(351),v=r(791),N=r(114),b=function(e){var t=e.name,r=e.price,a=e.id,s=(e.image,0),i=(0,n.v9)(j.K).products,c=(0,n.I0)(),u=a,o=localStorage.getItem(u),l=JSON.parse(o||0).quantity,m=(0,v.useState)(l),p=(0,_.Z)(m,2),f=p[0],x=p[1];localStorage.setItem(u,JSON.stringify({id:a,quantity:f,sumPrice:l*r})),s+=JSON.parse(o||1).sumPrice,console.log(s);localStorage.setItem("totalPrice",JSON.stringify({totalPrice:s}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{className:g.cartImage,src:N,alt:"dish",width:"200",height:"150"}),(0,h.jsxs)("div",{className:g.cartBox,children:[(0,h.jsxs)("div",{className:g.infoCart,children:[(0,h.jsxs)("p",{className:g.cartName,children:[" ",t]}),(0,h.jsx)("p",{className:g.cartPrice,children:r}),(0,h.jsx)("input",{type:"number",onChange:function(e){x(e.target.value)},step:"1",min:"1",max:"100",id:"num_count",name:"quantity",value:f,pattern:"[0-9]*",inputMode:"numeric",width:"10",height:"10"})]}),(0,h.jsx)("button",{className:g.cartButton,onClick:function(){return function(e){var t=i.find((function(t){return t.id===e}));c((0,d.aH)(t))}(a)},children:"Delete"})]})]})},y="CartList_cartList__7xQyX",C="CartList_cartItem__lD+W1",I=function(){var e=(0,n.v9)(j.K).products;return(0,h.jsx)("ul",{className:y,children:e?e.map((function(e){return(0,h.jsx)("li",{className:C,children:(0,h.jsx)(b,{name:e.name,price:e.price,id:e.id})},e.id)})):(0,h.jsx)("p",{children:"Choose your menu"})})},S="OrderButton_orderButton__jgcRr",P=function(){return(0,h.jsx)("button",{type:"submit",className:S,form:"form1",children:"Submit"})},k="OrderInfo_orderBox__12X7Y",B=function(){var e=localStorage.getItem("totalPrice"),t=JSON.parse(e||0).totalPrice;return(0,h.jsxs)("div",{className:k,children:[(0,h.jsxs)("p",{children:["Total Price:",t]}),(0,h.jsx)(P,{})]})},q=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)(x,{}),(0,h.jsx)(I,{})]}),(0,h.jsx)(B,{})]})},O=function(){return(0,h.jsx)(q,{})}},351:function(e,t,r){r.d(t,{H:function(){return n},K:function(){return a}});var a=function(e){return e.cart},n=function(e){return e.auth}},114:function(e,t,r){e.exports=r.p+"static/media/food.0bb126abee98545f1eb6.jpg"}}]);
//# sourceMappingURL=728.d83ea161.chunk.js.map